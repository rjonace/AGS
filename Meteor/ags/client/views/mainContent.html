<template name="mainContent">
	<div id="editModal" class="ui fullscreen modal">
		<i class="close icon"></i>
		<div class="header">
      		Edit Settings
		</div>
		<div class="content">
			{{#if isUserDash}}
				{{> AGSCreateUser}}
			{{/if}}
			{{#if isCourseDash}}
				{{> addCourseForm}}
			{{/if}}
			{{#if isAssignmentDash}}
				{{> addAssignmentForm}}
			{{/if}}
		</div>
		<div class="actions">
		      <div class="ui button">Cancel</div>
		      <div class="ui green button">Update</div>
    	</div>
	</div>
	<script>$('.ui.fullscreen.modal').modal();</script>
	<div id="deleteModal" class="ui small modal">
		<i class="close icon"></i>

			{{#if isUserDash}}
				{{> AGSCreateUser}}
				<div class="header">
      				Delete User
				</div>
				<div class="content">
					Are you sure you want to delete your AGS account?
				</div>
			{{/if}}
			{{#if isCourseDash}}
				<div class="header">
      				Delete Course
				</div>
				<div class="content">
					Are you sure you want to delete this Course?
				</div>
			{{/if}}
			{{#if isAssignmentDash}}
				<div class="header">
      				Delete Assignment
				</div>
				<div class="content">
					Are you sure you want to delete this Assignment?
				</div>
			{{/if}}
		<div class="actions">
		      <div class="ui red button">No</div>
		      <div class="ui green button">Yes</div>
    	</div>
	</div>
	<script>$('.ui.small.modal').modal();</script>
	<div id="viewFilesModal" class="ui fullscreen modal files">
		<i class="close icon"></i>
		{{#if isAssignmentDash}}
		 {{#with assignmentInfo}}
		 	{{#each studentfiles}}
			<div class="header">
	      		{{name}}
			</div>
			<div class="content">
				<pre>{{contents}}</pre>
			</div>
			{{/each}}
		{{/with}}
		{{/if}}
	</div>
	<script>$('.ui.fullscreen.modal.files').modal();</script>
	<div class="ags-main-content-info">
		{{#if unfinishedAccount}}
			<div class="ui dividing header">
			  <i class="user icon"></i>
			  <div class="content">
			    Finish Creating Your Account
			  </div>
			</div>
			<p>Enter your first and last name. <br>Sign up for a course by entering the course key provided by the instructor.</p>
		{{else}}
			{{#if isUserDash}}
				{{#with userInfo}}
					<div class="ui dividing header">
					  <i class="user icon"></i>
					  <div class="content">
					    User Dashboard
					    <div class="sub header">{{firstname}} {{lastname}}
					    </div>
					  </div>
					</div>
				{{/with}}
				<div class="dashboard popup tips">
					<div class="ui icon edit button">
						<i class="edit icon"></i>
					</div>
					<div class="ui small popup">
						Edit Account
					</div>
				</div>	
			{{/if}}

			{{#if isCourseDash}}
				{{#with courseInfo}}
					{{#if isUserCreator}}
					<div class="ui dividing header">
					  <i class="users icon"></i>
					  <div class="content">
					    Course Dashboard
					    <div class="sub header">{{number}}: {{name}} <br>Key: {{key}}</div>
					  </div>
					</div>
					<div class="dashboard popup tips">
						<div class="ui icon edit button">
							<i class="edit icon"></i>
						</div>
						<div class="ui small popup">
							Edit Course
						</div>
						<div class="ui icon delete button">
							<i class="delete icon"></i>
						</div>
						<div class="ui small popup">
							Remove Course
						</div>
					</div>	
					{{else}}
					<div class="ui dividing header">
					  <i class="users icon"></i>
					  <div class="content">
					    Course Dashboard
					    <div class="sub header">{{number}}: {{name}}</div>
					  </div>
					</div>
					{{/if}}
				{{/with}}
			{{/if}}

			{{#if isAssignmentDash}}
				{{#with assignmentInfo}}
					<div class="ui dividing header">
						<i class="code icon"></i>
						<div class="content">
							Assignment Dashboard
						    <div class="sub header">{{name}}: {{description}}
							</div>
				  		</div>
					</div>
					Date Available: {{dateAvailable}}<br> Date Due:{{dateDue}}
				{{/with}}
				{{#if isUserCreator}}
				<div class="dashboard popup tips">
					<div class="ui icon edit button">
						<i class="edit icon"></i>
					</div>
					<div class="ui small popup">
						Edit Assignment
					</div>
					<div class="ui icon delete button">
						<i class="delete icon"></i>
					</div>
					<div class="ui small popup">
						Remove Assignment
					</div>
				</div>
				{{/if}}

			{{/if}}

			{{#if isSubmissionDash}}
				{{#with submissionInfo}}
					<div class="ui dividing header">
						<i class="file text icon"></i>
						<div class="content">
							Submission Dashboard
						    <div class="sub header">{{name}}: {{dateCreated}}
							</div>
				  		</div>
					</div>
					Finish adding files and submit!
				{{/with}}
			{{/if}}

		{{/if}}
	</div>
	<div class="ags-main-content-view">
		{{#if unfinishedAccount}}
			<div id="signUpForm">
				<form method="post" id="createUser" class="createUser">
				{{> AGSCreateUser}}
				<input type="submit" id="userSignUpButton" class="ui submit button" value="Sign Up">
				</form>
			</div>
		{{else}}

			{{#if isUserDash}}

				{{#with userInfo}}
					<h3>{{firstname}}'s Courses</h3>
					<div class="ui cards">
						{{#each studentCourseList}}
						<div class="card" id="userCourse">
						    <div class="content">
						      <div class="header">{{number}}</div>
						      <div class="description">
						        {{name}}
						      </div>
						    </div>
						    <div class="ui bottom attached button">
						      <i class="users icon"></i>
						      View Course
						    </div>
						  </div>
						  {{/each}}
					 </div>
<!-- 					<ul>
						{{#each studentCourseList}}
							<li class="userCourse"><a>{{number}}: {{name}}</a></li>
						{{/each}}
					</ul> -->
					<div class="ui form segment">
					<div class="field">
						<label>Course Key</label>
						<div class="ui action input">
						  <input id="courseKeyField" type="text" placeholder="1234567890aBcdEFg">
						  <div class="ui teal enroll button">Enroll</div>
						</div>
					</div>
					<div class="ui message enroll"></div>
					<script>$('.ui.message.enroll').hide();</script>
				</div>

					<h3>{{firstname}}'s Created Courses</h3>

<!-- 					<ul>
						{{#each instructorCourseList}}
							<li class="userCourse"><a>{{number}}: {{name}}</a></li>
						{{/each}}
					</ul> -->
					<div class="ui cards">
						{{#each instructorCourseList}}
						<div class="card" id="userCourse">
						    <div class="content">
						      <div class="header">{{number}}</div>
						      <div class="description">
						        {{name}}
						      </div>
						    </div>
						    <div class="ui bottom attached button">
						      <i class="users icon"></i>
						      View Course
						    </div>
						  </div>
						  {{/each}}
					 </div>


				{{/with}}


				<div class="ui hidden divider"></div>
				<div id="courseAccordion" class="ui styled fluid accordion">
					<div id="createCourseTitle" class="active title">
						<i class="add icon"></i>
							Create Course
					</div>
					<div class="active content">
						<form name="createCourse" id="createCourse">
							{{> addCourseForm}}
							<div class="ui hidden divider"></div>
							<input type="submit" class="ui submit button" value="Create">
						</form>
					</div>
				</div>
				<script>$('.ui.styled.fluid.accordion').accordion();</script>
			
				
			{{/if}}

			{{#if isCourseDash}}
				<h3>Course Assignments</h3>
<!-- 				<ul>
					{{#each courseAssignmentList}}
						<li class="courseAssignment"><a>{{name}}: {{dateDue}}</a></li>
					{{/each}}
				</ul> -->
				<div class="ui cards">
						{{#each courseAssignmentList}}
						<div class="card" id="courseAssignment">
						    <div class="content">
						      <div class="header">{{name}}</div>
						      <div class="description">
						        {{description}}<br/>
						        Due: {{dateDue}}
						      </div>
						    </div>
						    <div class="ui bottom attached button">
						      <i class="code icon"></i>
						      View Assignment
						    </div>
						  </div>
						  {{/each}}
					 </div>
				{{#if isUserCreator}}

				<div class="ui hidden divider"></div>	
				<div id="assignmentAccordion" class="ui styled fluid accordion">
					<div id="createAssignmentTitle" class="active title">
						<i class="add icon"></i>
							Create Assignment
					</div>
					<div class="active content">
						<form name="createAssignment" id="createAssignment" enctype="multipart/form-data">
							{{> addAssignmentForm}}
							<div class="ui hidden divider"></div>
							<input type="submit" class="ui submit assignment button" value="Add Assignment">
						</form>
					</div>
				</div>
				<script>$('.ui.styled.fluid.accordion').accordion();</script>
				{{/if}}

			{{/if}}

			{{#if isAssignmentDash}}
				<div class="ui form segment">
					<div id="viewFilesButton" class="ui view files button">View Files</div>
				</div>
				{{#with userInfo}}
					<h3>{{firstname}}'s Submissions</h3>
				{{/with}}
<!-- 				<ul>
					{{#each studentSubmissionList}}
						{{#each AttemptList}}
							<li class="assignmentSubmission"><a>{{name}}: {{dateCreated}}</a></li>
						{{/each}}
					{{/each}}
				</ul> -->
				<div class="ui cards">
					{{#each studentSubmissionList}}
						{{#each AttemptList}}	
						<div class="card" id="assignmentSubmission">
						    <div class="content">
						      <div class="header">{{name}}</div>
						      <div class="description">
						        {{description}}<br/>
						        Created: {{dateCreated}}
						      </div>
						    </div>
						    <div class="ui bottom attached button">
						      <i class="file text outline icon"></i>
						      View Submission
						    </div>
						  </div>
						  {{/each}}
					 {{/each}}
				 </div>
				 <div class="ui hidden divider"></div>
				<div class="ui button" id="newSubmission" >New Submission</div>

				{{#if isUserCreator}}

				<h3>Student Submissions</h3>
					<div class="ui cards">
						{{#each instructorSubmissionList}}
						{{#each AttemptList}}	
						<div class="card" id="assignmentSubmission">
						    <div class="content">
						      <div class="header">{{name}}</div>
						      <div class="description">
						        {{description}}<br/>
						        Created: {{dateCreated}}
						      </div>
						    </div>
						    <div class="ui bottom attached button">
						      <i class="file text outline icon"></i>
						      View Submission
						    </div>
						  </div>
						  {{/each}}
						{{/each}}
					</div>
<!-- 					<h3>Assignment Files</h3>
					{{#with assignmentInfo}}
					
					<h3>VTA</h3>
					{{vta.name}}<br>
					<code>{{vta.contents}}</code>
					
					<h3>Solution</h3>
					{{solution.name}}<br>
					<code>{{solution.contents}}</code>
					
					<h3>Inputs</h3>
						{{#each inputs}}
							{{name}}<br>
							<code>{{contents}}</code>
							<br>
						{{/each}}

					{{/with}} -->

<!-- 					<button type="button" id="write" >Write</button> -->

				{{/if}}
			{{/if}}


		{{/if}}

		{{#if isSubmissionDash}}
			{{#if fileNotSubmitted}}
				{{> submissionFilesForm}}
			{{else}}
				<h3>Submission</h3>
				<label for="submissionFilenameText">Your Solution File:</label>
				<span name="submissionFilenameText">{{submissionFilename}}</span>
				<h3>Feedback</h3>
				{{#if fileNotGraded}}
					<button type="button" id="gradeSubmission" >Get Feedback</button>
				{{else}}
					{{feedbackStatus}}
					{{{submissionFeedback}}}
				{{/if}}
			{{/if}}
		{{/if}}

	</div>
</template>